{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { isJson } from \"../components/NewsComponents/LastNews\";\nexport default function useFetch(url) {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    async function fetchPosts() {\n      const response = await fetch(url);\n      setLoading(false);\n      let result;\n\n      if (isJson(response)) {\n        result = await response.json();\n      }\n\n      if (response.status === 404) {\n        result = {\n          error404: 'Resourse not found'\n        };\n      } else {\n        result = result || {\n          error: \"Somthing went wrong\"\n        };\n      }\n\n      if (response.status >= 200 && response.status < 300) {\n        setData(result);\n      } else {\n        setError(result);\n      }\n    }\n\n    fetchPosts();\n  }, [url]);\n  return {\n    data,\n    setData,\n    loading,\n    error\n  };\n}\n\n_s(useFetch, \"RiL7vLwmC7ZWXKL/bXt2EIBjBYk=\");","map":{"version":3,"sources":["D:/Amovie/Amovie/movie-react/src/hooks/useFetch.tsx"],"names":["useEffect","useState","isJson","useFetch","url","data","setData","loading","setLoading","error","setError","fetchPosts","response","fetch","result","json","status","error404"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,uCAAvB;AAEA,eAAe,SAASC,QAAT,CAA+BC,GAA/B,EAA4C;AAAA;;AACzD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAW,IAAX,CAAhC;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAGAD,EAAAA,SAAS,CAAC,MAAK;AACb,mBAAeW,UAAf,GAA2B;AACzB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAD,CAA5B;AACAI,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,UAAIM,MAAJ;;AACA,UAAGZ,MAAM,CAACU,QAAD,CAAT,EAAoB;AACnBE,QAAAA,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAf;AACA;;AACD,UAAGH,QAAQ,CAACI,MAAT,KAAoB,GAAvB,EAA2B;AACzBF,QAAAA,MAAM,GAAG;AAACG,UAAAA,QAAQ,EAAE;AAAX,SAAT;AACD,OAFD,MAEM;AACJH,QAAAA,MAAM,GAAGA,MAAM,IAAI;AAACL,UAAAA,KAAK,EAAE;AAAR,SAAnB;AACD;;AAED,UAAGG,QAAQ,CAACI,MAAT,IAAmB,GAAnB,IAA0BJ,QAAQ,CAACI,MAAT,GAAkB,GAA/C,EAAmD;AACjDV,QAAAA,OAAO,CAACQ,MAAD,CAAP;AACD,OAFD,MAEM;AACJJ,QAAAA,QAAQ,CAACI,MAAD,CAAR;AACD;AACF;;AACDH,IAAAA,UAAU;AACX,GArBQ,EAqBN,CAACP,GAAD,CArBM,CAAT;AAuBA,SAAQ;AAACC,IAAAA,IAAD;AAAMC,IAAAA,OAAN;AAAeC,IAAAA,OAAf;AAAwBE,IAAAA;AAAxB,GAAR;AACD;;GA9BuBN,Q","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { isJson } from \"../components/NewsComponents/LastNews\";\n\nexport default function useFetch<T = unknown>(url: string) {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n\n  useEffect(() =>{\n    async function fetchPosts(){\n      const response = await fetch(url);\n      setLoading(false);\n      let result;\n      if(isJson(response)){\n       result = await response.json();\n      }\n      if(response.status === 404){\n        result = {error404: 'Resourse not found'};\n      } else{\n        result = result || {error: \"Somthing went wrong\"};\n      }\n\n      if(response.status >= 200 && response.status < 300){\n        setData(result);\n      } else{\n        setError(result);\n      }\n    }\n    fetchPosts();\n  }, [url]);\n  \n  return ({data,setData, loading, error});\n}\n\n\n"]},"metadata":{},"sourceType":"module"}